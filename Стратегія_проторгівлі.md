1.1 Опис стратегії
При аналізі умови завдання, я зосередився на формулюванні, що необхідно оцінити розподіл ціни в певному діапазоні, як випадковий. Моделі і алгоритми будував на основі ідеї, що ми починаємо з певної ціни, а потім алгоритм видає випадкові ціни, які випадково різняться від попередньої. Їх стримує певний діапазон, але загалом це випадкові ціни.
Саме тому було придумано алгоритм, який визначає відсоток падіння ціни і на його основі вже виставляє сітку для проторговки. Відсоток падіння визначається від закріпленого значення ціни і ціни на певний момент часу.
Сітка розрахована на 3 групи:
	•	група 0 - група, яка постійно виставляється на купівлю, якщо не відбувається підвищення ціни більше ніж на 5%
	•	кількість позицій в групі: 6
	•	група починає діяти, якщо відсоток падіння більше -5% (менше 5% відсотка зростання)
	•	група перестає діяти, якщо відсоток падіння більше 20%
	•	віддаленість входів один від одного -  3.66%
	•	група 1 і 2 - групи, які використовують складену формулу відсотка віддаленості входів, що забезпечує гнучкість сітки
	•	 віддаленість входів один від одного:
	•	(КОНСТАНТА + квадратний корінь від (відсотка падіння), розділений на 2), що розділене на 100 для отримання значення у частинах
	•	(CONSTANT + sqrt(fall%)/2)/100
	•	група 1:
	•	кількість позицій в групі: 6
	•	група починає діяти, якщо відсотку падіння більше 10%
	•	група перестає діяти, якщо відсоток падіння більше 20%
	•	базова КОНСТАНТА для групи була взата за 1.95%
	•	група 2:
	•	кількість позицій в групі: 4
	•	група починає діяти, якщо відсотку падіння більше 25%
	•	група перестає діяти, якщо відсоток падіння більше 45%
	•	базова КОНСТАНТА була взата за 3%
Також стратегія передбачає зниження закріпленого значення ціни для виставлення сітки. Тобто закріплене значення залишається таким, яким і було, але сітка виставляється відносно середнього значення між закріпленим значенням і ціною на певний момент часу 

Для аналізу відсотків, які покриває сітка, була розроблена таблиця:
adjusted_price
| adjusted_price | fall% | group 0 fall | group 0 cumulative fall | group 1 fall | groups 0,1 cumulative fall | group 2 fall | group 0,1,2 cumulative fall |
|----------------|-------|--------------|-------------------------|--------------|----------------------------|--------------|-----------------------------|
| 1              | -5.00% | 3.66%        | 20.05%                  | 0.00%        | 20.05%                     | 0.00%        | 20.05%                      |
| 0.95           | 10.00% | 3.66%        | 24.04%                  | 3.53%        | 38.78%                     | 0.00%        | 38.78%                      |
| 0.875          | 25.00% | 3.66%        | 30.04%                  | 4.45%        | 46.76%                     | 5.50%        | 57.54%                      |
| 0.85           | 30.00% | 3.66%        | 32.04%                  | 4.69%        | 49.05%                     | 5.74%        | 59.78%                      |
| 0.775          | 45.00% | 3.66%        | 38.04%                  | 4.69%        | 53.55%                     | 6.35%        | 64.28%                      |


Де:
- adjusted_price - першочергова ціна, від якої розраховується вся сітка. Починається після падіння сітки більше, ніж на %, з якого починає діяти група 1
- fall% - відсоток падіння  закріпленого значення ціни відносно ціни на певний момент часу
- group 0 fall - віддаленість входів один від одного у групи 0
- group 1 fall - віддаленість входів один від одного у групи 1
- group 2 fall - віддаленість входів один від одного у групи 2
- group 0 cumulative fall - віддаленість останнього елементу сітки з виставленням 0 групи, від закріпленого значення ціни
- groups 0,1 cumulative fall - віддаленість останнього елементу сітки з виставленням 0 і 1 групп, від закріпленого значення ціни
- group 0,1, 2 cumulative fall - віддаленість останнього елементу сітки з виставленням повної сітки, від закріпленого значення ціни

1.2 Опис виходів зі стратегії
Вихід з кожної позиції зазначений на рівні 4% 
Для алгоритма була виставлена умова, що при зростанні ціни більше ніж на 10%, алгоритм змінює закріплене значення ціни на середнє між закріпленим і новим. У цей момент знімаються всі замовлення на купівлю і після зміни закріпленої ціни розміщується нова сітка. 
Інша умова була виставлена, що при падінні ціни більше ніж на 70% - являє собою моментальний вихід: зняття усіх замовлень на купівлю і продаж усіх наявних позицій за ціну на даний момент.

Коментар:
Після закінчення реалізації кодування алгоритму і виставлення сітки, було визначено, що така проторговка дуже ненадійна: невеликий прибуток при успішній проторговці і в ситуації моментального виходу втрачає дуже багато коштів, при цьому не залишаючи можливості на відновлення.
Також, було помічено, що якщо ціни змінюються у паттерні: падінні більше ніж на визначений моментальний вихід -> різкому піднятті -> різкому падінні на визначений моментальний, то стратегія зазнає неймовірного навантаження і показує дуже серйозні збитки

2. Опис алгоритму  
Отже в алгоритмі було написано: 
- симуляція ціни за певний період; симуляція виставлення сітки;
- симуляція торгівлі на кожному зміні ціни. Після цього отримані дані обробляються і виводиться статистика: 
	- згенеровані ціни в зазначений період записуються в prices_in_period.txt, і за допомогою matplotlib.pyplot виводяться на екран графіком; 
	- кожна дія записується в actions.csv файл; 
	- суха статистика по комбінації дії, статусу і групи записуєтсья до statistic.csv файлу; 
	- а в файл speech.txt записується невелика доповідь про результати проторгівлі. 
Повний цикл симуляції записаний в функції main(). Там же як константи вказані значення, щоб симулювати описану сітку. Алгоритм може також симулювати сітки з іншими групами, але це не змінить логіку виставлення позицій сітки: перша група буде мати константне зниження позицій, а всі наступні будуть мати складену формулу, яка включає в себе квадратний корінь від відсотку падіння.
І необхідно зазначити про особливість виставлення сітки і проведення торгів в умовах симуляції:
- група в сітці виставляється заново лише, якщо всі елементи цієї групи були куплені (або зняті з продажу) і продані. Тобто поки останній елемент з сітки не буде продано або куплено, сітка не виставиться заново 
- купівля і продаж відбуваються до зміни сітки і закріпленого значення. Тобто алгоритм спочатку симулює торг в день, після чого проводить аналіз стратегії і зміну сітки 
- викуплені позиції одразу ж виставляються на продаж з новою ціною, яка дорівнює ціна купівлі + вихід з позиції
Для проведення одразу ж великої кількості симуляцій і визначення, чи принесла стратегія прибуток, був написаний тест з використанням бібліотеки pytest. Під час тестів не виводиться статистика, але показується, чи був тест успішний, чи ні.
